(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2680:(e,s,r)=>{Promise.resolve().then(r.bind(r,8439))},8439:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>d});var t=r(5155),a=r(2115),n=r(6710);function l(e){let{onFileSelect:s,selectedFiles:r}=e,l=(0,a.useCallback)(e=>{e.length>0&&s(e)},[s]),{getRootProps:i,getInputProps:o,isDragActive:c}=(0,n.VB)({onDrop:l,accept:{"image/*":[".jpeg",".jpg",".png",".gif",".bmp",".tiff",".webp"]},multiple:!0,maxSize:0xa00000});return(0,t.jsx)("div",{className:"w-full",children:(0,t.jsxs)("div",{...i(),className:"\n          border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors\n          ".concat(c?"border-primary bg-primary/5":"border-border hover:border-primary/50","\n        "),children:[(0,t.jsx)("input",{...o()}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"text-4xl",children:"\uD83D\uDCC1"}),c?(0,t.jsx)("p",{className:"text-lg text-primary",children:"Drop the images here..."}):(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-lg font-medium",children:"Drag and drop images, or click to select files"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Supports JPEG, PNG, GIF, BMP, TIFF, WebP (max 10MB each)"})]}),r.length>0&&(0,t.jsxs)("div",{className:"mt-4 p-3 bg-secondary rounded-md max-h-48 overflow-auto",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Selected files:"}),(0,t.jsx)("ul",{className:"text-sm text-muted-foreground list-disc list-inside space-y-1",children:r.map(e=>(0,t.jsxs)("li",{children:[e.name," - ",(e.size/1024/1024).toFixed(2)," MB"]},e.name))})]})]})]})})}function i(e){let{selectedFormat:s,onFormatChange:r}=e;return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Output Format"}),(0,t.jsxs)("div",{className:"flex gap-6",children:[(0,t.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"format",value:"avif",checked:"avif"===s,onChange:e=>r(e.target.value),className:"w-4 h-4 text-primary border-border focus:ring-primary focus:ring-2"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"AVIF"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Better compression, newer format"})]})]}),(0,t.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"format",value:"webp",checked:"webp"===s,onChange:e=>r(e.target.value),className:"w-4 h-4 text-primary border-border focus:ring-primary focus:ring-2"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"WebP"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Wide browser support, good compression"})]})]})]})]})}function o(e){let{quality:s,onQualityChange:r}=e;return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Quality Settings"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("label",{htmlFor:"quality-slider",className:"text-sm font-medium",children:"Quality"}),(0,t.jsxs)("span",{className:"text-sm font-mono bg-secondary px-2 py-1 rounded",children:[s,"%"]})]}),(0,t.jsx)("input",{id:"quality-slider",type:"range",min:"1",max:"100",value:s,onChange:e=>r(parseInt(e.target.value)),className:"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer slider"}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,t.jsx)("span",{children:"Lower size"}),(0,t.jsx)("span",{children:"Higher quality"})]})]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:(0,t.jsxs)("p",{children:[(0,t.jsxs)("strong",{children:["Quality ",s,"%:"]})," "," ",s>=90?"Excellent quality, larger file size":s>=70?"Good quality, balanced file size":s>=50?"Moderate quality, smaller file size":"Lower quality, smallest file size"]})})]})}function c(e){let{convertedImageUrl:s,selectedFormat:r,originalFileName:a,isConverting:n,fileCount:l}=e,i=()=>{if(l>1)return"converted_images.zip";if(!a)return"converted.zip";let e=a.replace(/\.[^/.]+$/,"");return"".concat(e,".zip")};return n?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Download"}),(0,t.jsx)("div",{className:"flex items-center justify-center p-8 border rounded-lg bg-secondary/20",children:(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsx)("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full mx-auto"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Converting ",1===l?"image":"".concat(l," images"),"..."]})]})})]}):s?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Download"}),(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-4 p-6 border rounded-lg bg-secondary/20",children:[(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsxs)("p",{className:"text-sm font-medium",children:["Your ",1===l?"image has":"".concat(l," images have")," been converted to ",r.toUpperCase()]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Click the button below to download your converted ",1===l?"image":"images"]})]}),(0,t.jsx)("a",{href:s,download:i(),className:"inline-flex items-center justify-center px-6 py-3 bg-primary text-primary-foreground font-medium rounded-lg hover:bg-primary/90 transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",children:1===l?"Download ".concat(r.toUpperCase()," Image"):"Download ZIP File (".concat(l," ").concat(r.toUpperCase()," Images)")}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground text-center",children:(0,t.jsxs)("p",{children:["File name: ",i()]})})]})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Download"}),(0,t.jsx)("div",{className:"flex items-center justify-center p-8 border rounded-lg bg-secondary/20",children:(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Upload ",1===l?"an image":"images"," and convert ",1===l?"it":"them"," to download"]})})]})}function d(){var e;let[s,r]=(0,a.useState)([]),[n,d]=(0,a.useState)("webp"),[m,x]=(0,a.useState)(80),[u,p]=(0,a.useState)(null),[f,h]=(0,a.useState)(!1),[g,j]=(0,a.useState)(null),b=async()=>{if(0===s.length)return void j("Please select at least one image file first");h(!0),j(null),u&&(URL.revokeObjectURL(u),p(null));try{let e=new FormData;s.forEach(s=>{e.append("file",s)}),e.append("format",n),e.append("quality",m.toString());let r=await fetch("/api/convert",{method:"POST",body:e});if(!r.ok){let e=await r.json();throw Error(e.error||"Conversion failed")}let t=await r.blob(),a=URL.createObjectURL(t);p(a)}catch(e){j(e instanceof Error?e.message:"An error occurred during conversion")}finally{h(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-background",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[(0,t.jsxs)("div",{className:"text-center mb-12",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Image Converter"}),(0,t.jsx)("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Convert your images to modern AVIF and WebP formats for better compression and faster loading times"})]}),(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("section",{children:(0,t.jsx)(l,{onFileSelect:e=>{r(e),j(null),u&&(URL.revokeObjectURL(u),p(null))},selectedFiles:s})}),s.length>0&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsx)("section",{children:(0,t.jsx)(i,{selectedFormat:n,onFormatChange:d})}),(0,t.jsx)("section",{children:(0,t.jsx)(o,{quality:m,onQualityChange:x})})]}),s.length>0&&(0,t.jsxs)("section",{className:"text-center space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[(0,t.jsx)("button",{onClick:b,disabled:f,className:"inline-flex items-center justify-center px-8 py-4 bg-primary text-primary-foreground font-semibold text-lg rounded-lg hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",children:f?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin w-5 h-5 border-2 border-primary-foreground border-t-transparent rounded-full mr-3"}),"Converting..."]}):"Convert to ".concat(n.toUpperCase())}),(0,t.jsx)("button",{onClick:()=>{r([]),j(null),u&&(URL.revokeObjectURL(u),p(null)),d("webp"),x(80),h(!1)},disabled:f,className:"inline-flex items-center justify-center px-6 py-3 bg-secondary text-secondary-foreground font-medium rounded-lg hover:bg-secondary/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors focus:outline-none focus:ring-2 focus:ring-secondary focus:ring-offset-2",children:"Reset"})]}),u&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Conversion successful! You can reset to upload new images or download the converted file below."})]}),g&&(0,t.jsx)("section",{children:(0,t.jsxs)("div",{className:"bg-destructive/10 border border-destructive/20 text-destructive px-4 py-3 rounded-lg",children:[(0,t.jsx)("p",{className:"font-medium",children:"Error:"}),(0,t.jsx)("p",{className:"text-sm",children:g})]})}),(0,t.jsx)("section",{children:(0,t.jsx)(c,{convertedImageUrl:u,selectedFormat:n,originalFileName:1===s.length&&(null==(e=s[0])?void 0:e.name)||null,isConverting:f,fileCount:s.length})})]}),(0,t.jsx)("footer",{className:"mt-16 pt-8 border-t text-center text-sm text-muted-foreground",children:(0,t.jsx)("p",{children:"Supports JPEG, PNG, GIF, BMP, TIFF, and WebP input formats. Maximum file size: 10MB each."})})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[710,441,684,358],()=>s(2680)),_N_E=e.O()}]);